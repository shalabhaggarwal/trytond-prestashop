<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Configuring Prestashop settings &mdash; Tryton Prestashop Integration 2.8.0.1dev documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.8.0.1dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Tryton Prestashop Integration 2.8.0.1dev documentation" href="index.html" />
    <link rel="next" title="Dealing with Tryton Crons" href="dealing-with-crons.html" />
    <link rel="prev" title="Installing trytond-prestashop module" href="installation.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="dealing-with-crons.html" title="Dealing with Tryton Crons"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installing trytond-prestashop module"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Tryton Prestashop Integration 2.8.0.1dev documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="configuring-prestashop-settings">
<h1>Configuring Prestashop settings<a class="headerlink" href="#configuring-prestashop-settings" title="Permalink to this headline">¶</a></h1>
<p>The module should be configured with the URL of the Prestashop
instance. A web services authentication key should also be provided.</p>
<div class="section" id="configure-prestashop-account">
<span id="id1"></span><h2>Configure Prestashop account<a class="headerlink" href="#configure-prestashop-account" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="create-webservices-key">
<span id="id2"></span><h2>Create Webservices Key<a class="headerlink" href="#create-webservices-key" title="Permalink to this headline">¶</a></h2>
<p>The web services key can be obtained/created from the prestashop admin
panel.</p>
<ol class="arabic">
<li><p class="first">Login to the admin panel</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/prestashop-admin.png"><img alt="_images/prestashop-admin.png" src="_images/prestashop-admin.png" style="width: 900px;" /></a>
</div></blockquote>
</li>
<li><p class="first">Go to webservices configuration via Advanced parameters</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/webservices-menu.png"><img alt="_images/webservices-menu.png" src="_images/webservices-menu.png" style="width: 900px;" /></a>
</div></blockquote>
</li>
<li><p class="first">A new key can be generated as shown below:</p>
<div class="line-block">
<div class="line"><tt class="docutils literal"><span class="pre">Step</span> <span class="pre">1</span></tt></div>
</div>
<blockquote>
<div><a class="reference internal image-reference" href="_images/add-new-key.png"><img alt="_images/add-new-key.png" src="_images/add-new-key.png" style="width: 900px;" /></a>
</div></blockquote>
<div class="line-block">
<div class="line"><tt class="docutils literal"><span class="pre">Step</span> <span class="pre">2</span></tt></div>
</div>
<blockquote>
<div><a class="reference internal image-reference" href="_images/create-new-key.png"><img alt="_images/create-new-key.png" src="_images/create-new-key.png" style="width: 900px;" /></a>
</div></blockquote>
</li>
</ol>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Generate a random key for better security, instead of typing a key
by yourself.</p>
</div>
<ol class="arabic simple" start="4">
<li>Make sure you set the required permissions for this key to access
appropriate records.</li>
</ol>
</div>
<div class="section" id="configure-settings-in-tryton">
<span id="configure-settings-tryton"></span><h2>Configure Settings in Tryton<a class="headerlink" href="#configure-settings-in-tryton" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line"><tt class="docutils literal"><span class="pre">Menu:</span> <span class="pre">Sale</span> <span class="pre">&gt;</span> <span class="pre">Configuration</span> <span class="pre">&gt;</span> <span class="pre">Prestashop</span> <span class="pre">Sites</span></tt></div>
</div>
<blockquote>
<div><a class="reference internal image-reference" href="_images/tryton-new-site.png"><img alt="_images/tryton-new-site.png" src="_images/tryton-new-site.png" style="width: 900px;" /></a>
</div></blockquote>
<dl class="attribute">
<dt id="prestashop.prestashop.Site">
<tt class="descclassname">prestashop.prestashop.</tt><tt class="descname">Site</tt><a class="reference internal" href="_modules/prestashop/prestashop.html#Site"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#prestashop.prestashop.Site" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <tt class="xref py py-class docutils literal"><span class="pre">prestashop.site</span></tt></p>
</dd></dl>

<dl class="attribute">
<dt id="prestashop.prestashop.Site.url">
<tt class="descclassname">Site.</tt><tt class="descname">url</tt><a class="headerlink" href="#prestashop.prestashop.Site.url" title="Permalink to this definition">¶</a></dt>
<dd><p>The URL of prestashop site</p>
</dd></dl>

<dl class="attribute">
<dt id="prestashop.prestashop.Site.key">
<tt class="descclassname">Site.</tt><tt class="descname">key</tt><a class="headerlink" href="#prestashop.prestashop.Site.key" title="Permalink to this definition">¶</a></dt>
<dd><p>The webservices key for access to site</p>
</dd></dl>

<dl class="attribute">
<dt id="prestashop.prestashop.Site.company">
<tt class="descclassname">Site.</tt><tt class="descname">company</tt><a class="headerlink" href="#prestashop.prestashop.Site.company" title="Permalink to this definition">¶</a></dt>
<dd><p>Company to which this site is linked</p>
</dd></dl>

<dl class="attribute">
<dt id="prestashop.prestashop.Site.last_order_import_time">
<tt class="descclassname">Site.</tt><tt class="descname">last_order_import_time</tt><a class="headerlink" href="#prestashop.prestashop.Site.last_order_import_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Last time at which the orders were imported from prestashop</p>
</dd></dl>

<dl class="attribute">
<dt id="prestashop.prestashop.Site.last_order_export_time">
<tt class="descclassname">Site.</tt><tt class="descname">last_order_export_time</tt><a class="headerlink" href="#prestashop.prestashop.Site.last_order_export_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Last time at which the orders were exported to prestashop</p>
</dd></dl>

<dl class="attribute">
<dt id="prestashop.prestashop.Site.default_account_expense">
<tt class="descclassname">Site.</tt><tt class="descname">default_account_expense</tt><a class="headerlink" href="#prestashop.prestashop.Site.default_account_expense" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to set expense account while creating products.</p>
</dd></dl>

<dl class="attribute">
<dt id="prestashop.prestashop.Site.default_account_revenue">
<tt class="descclassname">Site.</tt><tt class="descname">default_account_revenue</tt><a class="headerlink" href="#prestashop.prestashop.Site.default_account_revenue" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to set revenue account while creating products.</p>
</dd></dl>

<dl class="attribute">
<dt id="prestashop.prestashop.Site.default_warehouse">
<tt class="descclassname">Site.</tt><tt class="descname">default_warehouse</tt><a class="headerlink" href="#prestashop.prestashop.Site.default_warehouse" title="Permalink to this definition">¶</a></dt>
<dd><p>Imported Sale Orders are created in this warehouse.</p>
</dd></dl>

<dl class="attribute">
<dt id="prestashop.prestashop.Site.timezone">
<tt class="descclassname">Site.</tt><tt class="descname">timezone</tt><a class="headerlink" href="#prestashop.prestashop.Site.timezone" title="Permalink to this definition">¶</a></dt>
<dd><p>The timezone set on prestashop site
The orders imported will bear time in this timezone and that will need
to be converted to UTC
Also in order to determine what orders are to be imported, we need
to convert UTC to this timezone to ensure correct time interval</p>
</dd></dl>

<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Click <cite>Test Connection</cite> button to make sure the url and key
entered are correct and are able to access the prestashop instance.</p>
</div>
</div>
<div class="section" id="configuring-languages-and-order-states">
<h2>Configuring Languages and Order States<a class="headerlink" href="#configuring-languages-and-order-states" title="Permalink to this headline">¶</a></h2>
<p>Before proceeding with the import and export of orders, the languages and
order states must be mapped.</p>
<ol class="arabic simple">
<li>Click the <cite>Import Languages</cite> button to import all languages from
prestashop to tryton. The system will try to intelligently match the
languages on Tryton with the languages imported. Although it can always be
configured as per the needs of the user.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Prestashop stores language codes in two formats, i.e., ISO 639‑1 2
character codes and IETF language tags where the ISO 639‑1 2 character
code can be combined with the ISO 3166-1 country 2 character code via
hyphen(-). The default language codes used by prestashop does not seem
to adhere to any of the above though. We take into consideration the
IETF language tags based codes from prestashop and match with tryton.</p>
<p class="last">In short, the <cite>Language Code</cite> field on language settings for each
language should have the value in the form
<cite>&lt;2 character ISO Code&gt;-&lt;2 character ISO country code&gt;</cite>. For example,
United States English becomes en-US and Great Britain English becomes
en-GB. Similarly, French from France becomes fr-FR and Portuguese from
Brazil becomes pt-BR</p>
</div>
<ol class="arabic simple" start="2">
<li>Click the <cite>Import Order States</cite> button to import all order states from
prestashop to tryton. The system will map some of the default states with a
predefined logic as explained below. Although it can always be configured as
per the needs of the user.</li>
</ol>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Prestashop State(s)</th>
<th class="head">Tryton State</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Shipped /
Delivered</td>
<td>Shipment Sent</td>
</tr>
<tr class="row-odd"><td>Canceled</td>
<td>Sale Canceled</td>
</tr>
<tr class="row-even"><td>Payment accepted /
Payment remotely accepted /
Preparation in progress /</td>
<td>Sale Processing</td>
</tr>
<tr class="row-odd"><td>Any other state</td>
<td>Sale Confirmed</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="understanding-the-tryton-states">
<h2>Understanding the Tryton States<a class="headerlink" href="#understanding-the-tryton-states" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><strong>Shipment Sent</strong>: The sale in tryton will have a shipment created
which will be completely processed and marked as sent.</li>
<li><strong>Sale Canceled</strong>: Sale is canceled and cannot be processed further.</li>
<li><strong>Sale Processing</strong>: The sale will have a shipment and an invoice but
both will be left open for the user to process.</li>
<li><strong>Sale Confirmed</strong>: Sale is in confirmed state with no shipment and
invoice associated.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The Order States can only be imported only after languages are imported.</p>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last"><cite>Last order import time</cite> indicates the last time at which the orders were
last imported from Prestashop to Tryton.</p>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last"><cite>Last order export time</cite> indicates the last time at which the orders were
last exported from Tryton to Prestashop.</p>
</div>
</div>
<div class="section" id="cron-for-importing-orders-from-prestashop">
<span id="prestashop-crons"></span><h2>Cron for importing orders from Prestashop<a class="headerlink" href="#cron-for-importing-orders-from-prestashop" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="dealing-with-crons.html#accessing-crons"><em>Learn how to access and deal with crons.</em></a></p>
<p>There are two crons from managing import/export from/to prestashop.</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/crons.png"><img alt="_images/crons.png" src="_images/crons.png" style="width: 900px;" /></a>
</div></blockquote>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Function</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="how-it-works.html#import-orders"><em>Import Prestashop Orders</em></a></td>
<td>Periodically imports orders from
prestashop and creates sale orders
in Tryton.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="how-it-works.html#export-orders"><em>Export Prestashop Orders&#8217;
Status</em></a></td>
<td>Periodically exports status for sales
which were imported by the first cron.</td>
</tr>
</tbody>
</table>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">You need not change the time here to make a quick manual import. You could go
back into <a class="reference internal" href="#configure-prestashop-account"><em>configuration</em></a> and click on the
Import button instead. Same concept applies for export as well.</p>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">If the time of import/export just does not seem right to you, check your
timezone in the preferences. Tryton displays times in the timezone set in
the preferences of the user.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Configuring Prestashop settings</a><ul>
<li><a class="reference internal" href="#configure-prestashop-account">Configure Prestashop account</a></li>
<li><a class="reference internal" href="#create-webservices-key">Create Webservices Key</a></li>
<li><a class="reference internal" href="#configure-settings-in-tryton">Configure Settings in Tryton</a></li>
<li><a class="reference internal" href="#configuring-languages-and-order-states">Configuring Languages and Order States</a></li>
<li><a class="reference internal" href="#understanding-the-tryton-states">Understanding the Tryton States</a></li>
<li><a class="reference internal" href="#cron-for-importing-orders-from-prestashop">Cron for importing orders from Prestashop</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="installation.html"
                        title="previous chapter">Installing trytond-prestashop module</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="dealing-with-crons.html"
                        title="next chapter">Dealing with Tryton Crons</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/configuration.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="dealing-with-crons.html" title="Dealing with Tryton Crons"
             >next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installing trytond-prestashop module"
             >previous</a> |</li>
        <li><a href="index.html">Tryton Prestashop Integration 2.8.0.1dev documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Openlabs Technologies &amp; Consulting (P) Ltd..
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
  </body>
</html>